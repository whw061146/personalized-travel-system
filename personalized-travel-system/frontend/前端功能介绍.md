# 个性化旅游推荐系统 - 前端功能介绍

本文档详细介绍了个性化旅游推荐系统前端的功能实现，包括页面组件、用户交互和API调用等方面。

## 1. 技术栈

本项目前端采用以下技术栈：

- **框架**：Vue 3.3.4 (使用组合式API)
- **路由**：Vue Router 4.2.4
- **状态管理**：Pinia 2.1.6 (带持久化插件)
- **UI组件库**：Element Plus 2.3.12
- **HTTP客户端**：Axios 1.5.0
- **地图服务**：Leaflet 1.9.4
- **构建工具**：Vite 4.4.9
- **CSS预处理器**：Sass
- **工具库**：dayjs、lodash、@vueuse/core
- **国际化**：vue-i18n

## 2. 项目结构

```
frontend/
├── public/               # 静态资源
│   ├── icons/            # 应用图标
│   ├── manifest.json     # PWA配置
│   ├── map-api.js        # 地图API集成
│   └── service-worker.js # 离线缓存
├── src/
│   ├── assets/           # 资源文件
│   ├── components/       # 组件
│   │   ├── feature/      # 功能组件
│   │   ├── form/         # 表单组件
│   │   ├── layout/       # 布局组件
│   │   └── ui/           # UI组件
│   ├── router/           # 路由配置
│   ├── store/            # 状态管理
│   ├── views/            # 页面视图
│   ├── App.vue           # 根组件
│   └── main.js           # 入口文件
├── index.html            # HTML模板
├── package.json          # 项目配置
└── vite.config.js        # Vite配置
```

## 3. 核心功能

### 3.1 用户认证

- **登录/注册**：支持用户名/邮箱登录，新用户注册
- **JWT认证**：使用JWT令牌进行身份验证
- **状态持久化**：使用Pinia持久化插件保存用户登录状态
- **个人中心**：用户信息管理和偏好设置

### 3.2 地图功能

- **景点显示**：在地图上展示旅游景点
- **地点搜索**：支持按名称、类型、位置搜索
- **路线规划**：支持起点、终点和途经点的路线规划
- **筛选功能**：按类别、评分等筛选地图上的景点
- **地图交互**：点击景点查看详情，支持收藏和导航

### 3.3 推荐系统

- **个性化推荐**：基于用户偏好的景点推荐
- **美食推荐**：当地特色美食和餐厅推荐
- **推荐卡片**：展示景点/美食的图片、评分、标签等信息
- **筛选排序**：支持多维度筛选和排序推荐结果

### 3.4 旅游日记

- **创建日记**：记录旅行体验和感受
- **图片上传**：支持添加旅行照片
- **位置标记**：关联日记与旅游地点
- **分享功能**：支持公开/私密设置和分享

### 3.5 响应式设计

- **移动优先**：采用移动优先的响应式设计
- **断点适配**：针对不同屏幕尺寸优化布局
- **交互优化**：针对触摸设备优化交互体验

## 4. 页面视图

### 4.1 首页 (Home.vue)

首页展示系统的主要功能模块，包括景点推荐、美食发现和旅行日记三大板块，用户可以快速导航到相应功能。

### 4.2 地图视图 (MapView.vue)

地图视图是系统的核心功能之一，提供了交互式地图界面，用户可以：
- 搜索和浏览景点
- 查看景点详情
- 规划旅行路线
- 筛选和过滤地图上的内容

### 4.3 美食推荐 (FoodRecommend.vue)

美食推荐页面展示当地特色美食和餐厅，支持按类型、价格、评分等多维度筛选，并提供详细的美食信息和用户评价。

### 4.4 景点详情 (PlaceDetail.vue)

景点详情页面提供景点的详细信息，包括：
- 景点描述和特色
- 图片展示
- 用户评价
- 周边推荐
- 交通信息

### 4.5 旅游日记 (Diary.vue)

旅游日记功能允许用户记录和分享旅行体验，支持添加图片、位置标记和心情标签，以及设置日记的公开范围。

## 5. 组件设计

### 5.1 功能组件

- **MapComponent**：封装地图功能的可复用组件
- **RecommendCard**：展示推荐内容的卡片组件
- **DiaryEditor**：旅游日记编辑器组件

### 5.2 表单组件

- **LoginForm**：用户登录表单
- **RegisterForm**：用户注册表单
- **PreferencesForm**：用户偏好设置表单

### 5.3 布局组件

- **Header**：应用顶部导航栏
- **Footer**：应用底部信息栏
- **Sidebar**：侧边栏导航组件

## 6. 状态管理

使用Pinia进行状态管理，主要包含以下几个store：

- **userStore**：管理用户信息和认证状态
- **recommendStore**：管理推荐数据和历史记录
- **mapStore**：管理地图状态和搜索历史
- **diaryStore**：管理旅游日记数据

## 7. 路由配置

系统采用Vue Router进行路由管理，支持路由懒加载和路由守卫，主要路由包括：

- 首页：`/`
- 登录/注册：`/login`, `/register`
- 景点详情：`/place/:id`
- 美食推荐：`/food`
- 地图：`/map`
- 旅游日记：`/diary`
- 个人中心：`/profile`

## 8. API调用

前端通过Axios与后端API进行通信，主要包括以下几类API：

- 用户认证API：登录、注册、获取用户信息
- 推荐API：获取个性化推荐内容
- 搜索API：搜索景点、美食等
- 地图API：获取地图数据、路径规划
- 日记API：创建、更新、删除旅游日记

## 9. 性能优化

- **路由懒加载**：按需加载路由组件
- **图片优化**：使用适当尺寸和格式的图片
- **缓存策略**：使用Service Worker缓存静态资源
- **代码分割**：将代码分割成更小的块
- **虚拟滚动**：处理长列表时使用虚拟滚动

## 10. 安全措施

- **JWT验证**：使用JWT进行身份验证
- **XSS防护**：对用户输入进行过滤和转义
- **CSRF防护**：使用CSRF令牌
- **敏感信息保护**：不在前端存储敏感信息

## 总结

个性化旅游推荐系统前端采用现代化的技术栈和架构，提供了丰富的功能和良好的用户体验。通过响应式设计，系统可以在各种设备上流畅运行，为用户提供个性化的旅游推荐服务。